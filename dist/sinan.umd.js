(function(g,p){typeof exports=="object"&&typeof module!="undefined"?p(exports):typeof define=="function"&&define.amd?define(["exports"],p):(g=typeof globalThis!="undefined"?globalThis:g||self,p(g.Sinan={}))})(this,function(g){"use strict";var ao=Object.defineProperty;var oo=(g,p,$)=>p in g?ao(g,p,{enumerable:!0,configurable:!0,writable:!0,value:$}):g[p]=$;var v=(g,p,$)=>(oo(g,typeof p!="symbol"?p+"":p,$),$);function p(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function $(t){return t!==t}function be(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function _e(t,e,r){return e===e?be(t,e,r):p(t,$,r)}var me=/\s/;function ye(t){for(var e=t.length;e--&&me.test(t.charAt(e)););return e}var ve=/^\s+/;function $e(t){return t&&t.slice(0,ye(t)+1).replace(ve,"")}function _(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Te=typeof global=="object"&&global&&global.Object===Object&&global,bt=Te,we=typeof self=="object"&&self&&self.Object===Object&&self,je=bt||we||Function("return this")(),m=je,Ae=m.Symbol,M=Ae,_t=Object.prototype,Oe=_t.hasOwnProperty,Se=_t.toString,N=M?M.toStringTag:void 0;function Ee(t){var e=Oe.call(t,N),r=t[N];try{t[N]=void 0;var n=!0}catch{}var i=Se.call(t);return n&&(e?t[N]=r:delete t[N]),i}var Ce=Object.prototype,Pe=Ce.toString;function xe(t){return Pe.call(t)}var Ie="[object Null]",Me="[object Undefined]",mt=M?M.toStringTag:void 0;function A(t){return t==null?t===void 0?Me:Ie:mt&&mt in Object(t)?Ee(t):xe(t)}function T(t){return t!=null&&typeof t=="object"}var Fe="[object Symbol]";function Be(t){return typeof t=="symbol"||T(t)&&A(t)==Fe}var yt=0/0,Ne=/^[-+]0x[0-9a-f]+$/i,De=/^0b[01]+$/i,Re=/^0o[0-7]+$/i,Ue=parseInt;function Le(t){if(typeof t=="number")return t;if(Be(t))return yt;if(_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=$e(t);var r=De.test(t);return r||Re.test(t)?Ue(t.slice(2),r?2:8):Ne.test(t)?yt:+t}var vt=1/0,Ge=17976931348623157e292;function He(t){if(!t)return t===0?t:0;if(t=Le(t),t===vt||t===-vt){var e=t<0?-1:1;return e*Ge}return t===t?t:0}function $t(t){var e=He(t),r=e%1;return e===e?r?e-r:e:0}var ze=Math.max;function D(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:$t(r);return i<0&&(i=ze(n+i,0)),_e(t,e,i)}function Ke(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}var Ve=Math.max,We=Math.min;function Tt(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=n;return r!==void 0&&(i=$t(r),i=i<0?Ve(n+i,0):We(i,n-1)),e===e?Ke(t,e,i):p(t,$,i,!0)}class Ye{constructor(e){v(this,"digit",{\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u96F6:0,\u4E24:2,\u534A:.5});v(this,"digit_list",Object.keys(this.digit));v(this,"digit_unit",{\u4E2A:1,\u5341:10,\u767E:100,\u5343:1e3,\u4E07:1e4,\u4EBF:1e8});v(this,"digit_unit_list",Object.keys(this.digit_unit))}decimal_detect(e){const r=new RegExp("({0})+(?<deci_str>\u70B9({0})+)".replaceAll("{0}",this.digit_list.join("|")));let n=e;for(;n.match(r);){const i=n.match(r);if(i&&i.groups){const a=i.groups.deci_str;if(a){const o=this.decimal_transfer(a);n=n.replace(a,o.slice(1))}}}return n}decimal_transfer(e){let[r,n]=e.split("\u70B9"),i=this.base_transfer(r),a=this.base_transfer(n),o=Math.floor(Number(a))/10**a.length;return Math.floor(Number(i))+o+""}base_transfer(e){const r=new RegExp("({})+".replace("{}",this.digit_unit_list.join("|")));let n;if(e.match(r))["\u767E","\u5343","\u4E07","\u4EBF"].includes(e)?n=String(this.digit_unit[e]):n=String(this.unitchar2num(e));else{n=e;for(const i of this.digit_list){const a=this.digit[i];n=n.replace(i,String(a))}}return n}unitchar2num(e){e=e.replace("\u96F6","");let r=Tt(e,"\u4EBF"),n=Tt(e,"\u4E07");n<r&&(n=-1);let[i,a]=[1e8,1e4];if(r!==-1&&n!==-1){const o=+this.unitchar2num(e.substring(0,r))*i,u=+this.unitchar2num_lower(e.substring(r+1,n))*a,s=+this.unitchar2num_lower(e.substring(n+1));return o+u+s+""}else{if(r!==-1)return+this.unitchar2num(e.substring(0,r))*i+ +this.unitchar2num_lower(e.substring(r+1))+"";if(n!==-1){const o=+this.unitchar2num_lower(e.substring(0,n))*a,u=+this.unitchar2num_lower(e.substring(n+1));return o+u+""}}return this.unitchar2num_lower(e)}unitchar2num_lower(e){var u,s;let r=0,[n,i,a,o]=[D(e,"\u5343"),D(e,"\u767E"),D(e,"\u5341"),D(e,"\u4E2A")];return n!==-1&&(r+=this.digit[e.substring(n-1,n)]*1e3),i!==-1&&(r+=this.digit[e.substring(i-1,i)]*100),a!=-1&&(r+=((u=this.digit[e.substring(a-1,a)])!=null?u:1)*10),o!==-1&&e.indexOf("\u4E2A")>0&&D(this.digit_unit_list,e[e.indexOf("\u4E2A")-1])===-1&&(r+=(s=this.digit[e.substring(o-1,o)])!=null?s:1),this.digit_list.includes(e.slice(-1))&&(r+=this.digit[e.slice(-1)]||0),(r||"")+""}fraction_detect(e){const r=this.digit_list.concat(this.digit_unit_list),n=new RegExp("({0})+\u5206\u4E4B({0})+".replaceAll("{0}",r.join("|")));let i=e;for(;i.match(n);){const a=i.match(n)[0],o=this.fraction_transfer(a);i=i.replace(a,o)}return i}fraction_transfer(e){if(e==="\u4E2A")return"";let[r,n]=e.split("\u5206\u4E4B"),i;if(n!==void 0){let a=this.base_transfer(n),o=this.base_transfer(r);i=Math.floor(Number(a))/Math.floor(Number(o))}else{let a=this.base_transfer(r);i=Math.floor(Number(a))}return i+""}unit_mix_detect(e){var i;const r=/(?<base_num>\d+(.\d+)?)(?<base_unit>(万亿|千亿|百亿|十亿|亿|千万|百万|十万|万|千|百))(?<res_num>\d+)?/;let n=e;for(;n.match(r);){const a=n.match(r),o=(a==null?void 0:a.groups.base_num)||"",u=(a==null?void 0:a.groups.base_unit)||"",s=(i=a==null?void 0:a.groups.res_num)!=null?i:"0",d=this.unitchar2num(["\u4E00",u].join("")),l=parseFloat(o)*parseFloat(d)+parseFloat(s)*parseFloat(d)*10**-s.length;n=n.replace(r,l+"")}return n}integer_detect(e){const r=this.digit_list.concat(this.digit_unit_list),n=new RegExp("({})+".replaceAll("{}",r.join("|")));let i=e;for(;i.match(n);){const a=i.match(n)[0],o=this.fraction_transfer(a);if(!Number.isNaN(+o))i=i.replace(a,o);else break}return i}detect(e){let r;try{return r=this.decimal_detect(e),r=this.fraction_detect(r),r=this.unit_mix_detect(r),r=this.integer_detect(r),r}catch{return e}}}const wt={length:{\u7C73:1,m:1,\u5343\u7C73:1e3,\u516C\u91CC:1e3,km:1e3,\u91CC:500,\u5398\u7C73:.01,cm:.01,\u6BEB\u7C73:.001,mm:.001,std:"m"},weight:{\u5343\u514B:1,kg:1,\u516C\u65A4:1,\u65A4:.5,\u514B:.001,g:.001,std:"kg"},time:{\u79D2:1,s:1,\u5C0F\u65F6:3600,h:3600,\u5206\u949F:60,min:60,std:"s"},temperature:{\u6444\u6C0F\u5EA6:1,\u5EA6:1,"\u2103":1,std:"\u2103"},money:{\u5143:1,\u5757:1,\u5143\u94B1:1,\u5757\u94B1:1,\u89D2:.1,\u5206:.01,\u5206\u94B1:.01,std:"\u5143"},people:{\u4EBA:1,\u4F4D:1,std:"\u4EBA"},area:{\u5E73\u65B9\u7C73:1,\u5E73\u7C73:1,\u5E73\u65B9\u5343\u7C73:1e3,\u4EA9:666,std:"\u5E73\u65B9\u7C73"},floor:{\u697C:1,\u5C42:1,std:"\u697C"}};function qe(){this.__data__=[],this.size=0}function K(t,e){return t===e||t!==t&&e!==e}function V(t,e){for(var r=t.length;r--;)if(K(t[r][0],e))return r;return-1}var Xe=Array.prototype,Je=Xe.splice;function Ze(t){var e=this.__data__,r=V(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Je.call(e,r,1),--this.size,!0}function Qe(t){var e=this.__data__,r=V(e,t);return r<0?void 0:e[r][1]}function ke(t){return V(this.__data__,t)>-1}function tr(t,e){var r=this.__data__,n=V(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function y(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}y.prototype.clear=qe,y.prototype.delete=Ze,y.prototype.get=Qe,y.prototype.has=ke,y.prototype.set=tr;function er(){this.__data__=new y,this.size=0}function rr(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function nr(t){return this.__data__.get(t)}function ir(t){return this.__data__.has(t)}var ar="[object AsyncFunction]",or="[object Function]",ur="[object GeneratorFunction]",sr="[object Proxy]";function Z(t){if(!_(t))return!1;var e=A(t);return e==or||e==ur||e==ar||e==sr}var cr=m["__core-js_shared__"],Q=cr,jt=function(){var t=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function fr(t){return!!jt&&jt in t}var lr=Function.prototype,gr=lr.toString;function O(t){if(t!=null){try{return gr.call(t)}catch{}try{return t+""}catch{}}return""}var dr=/[\\^$.*+?()[\]{}|]/g,hr=/^\[object .+?Constructor\]$/,pr=Function.prototype,br=Object.prototype,_r=pr.toString,mr=br.hasOwnProperty,yr=RegExp("^"+_r.call(mr).replace(dr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vr(t){if(!_(t)||fr(t))return!1;var e=Z(t)?yr:hr;return e.test(O(t))}function $r(t,e){return t==null?void 0:t[e]}function S(t,e){var r=$r(t,e);return vr(r)?r:void 0}var Tr=S(m,"Map"),R=Tr,wr=S(Object,"create"),U=wr;function jr(){this.__data__=U?U(null):{},this.size=0}function Ar(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Or="__lodash_hash_undefined__",Sr=Object.prototype,Er=Sr.hasOwnProperty;function Cr(t){var e=this.__data__;if(U){var r=e[t];return r===Or?void 0:r}return Er.call(e,t)?e[t]:void 0}var Pr=Object.prototype,xr=Pr.hasOwnProperty;function Ir(t){var e=this.__data__;return U?e[t]!==void 0:xr.call(e,t)}var Mr="__lodash_hash_undefined__";function Fr(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=U&&e===void 0?Mr:e,this}function E(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}E.prototype.clear=jr,E.prototype.delete=Ar,E.prototype.get=Cr,E.prototype.has=Ir,E.prototype.set=Fr;function Br(){this.size=0,this.__data__={hash:new E,map:new(R||y),string:new E}}function Nr(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function W(t,e){var r=t.__data__;return Nr(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Dr(t){var e=W(this,t).delete(t);return this.size-=e?1:0,e}function Rr(t){return W(this,t).get(t)}function Ur(t){return W(this,t).has(t)}function Lr(t,e){var r=W(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function F(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}F.prototype.clear=Br,F.prototype.delete=Dr,F.prototype.get=Rr,F.prototype.has=Ur,F.prototype.set=Lr;var Gr=200;function Hr(t,e){var r=this.__data__;if(r instanceof y){var n=r.__data__;if(!R||n.length<Gr-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new F(n)}return r.set(t,e),this.size=r.size,this}function C(t){var e=this.__data__=new y(t);this.size=e.size}C.prototype.clear=er,C.prototype.delete=rr,C.prototype.get=nr,C.prototype.has=ir,C.prototype.set=Hr;function zr(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Kr=function(){try{var t=S(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Y=Kr;function k(t,e,r){e=="__proto__"&&Y?Y(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Vr=Object.prototype,Wr=Vr.hasOwnProperty;function At(t,e,r){var n=t[e];(!(Wr.call(t,e)&&K(n,r))||r===void 0&&!(e in t))&&k(t,e,r)}function L(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var u=e[a],s=n?n(r[u],t[u],u,r,t):void 0;s===void 0&&(s=t[u]),i?k(r,u,s):At(r,u,s)}return r}function Yr(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var qr="[object Arguments]";function Ot(t){return T(t)&&A(t)==qr}var St=Object.prototype,Xr=St.hasOwnProperty,Jr=St.propertyIsEnumerable,Zr=Ot(function(){return arguments}())?Ot:function(t){return T(t)&&Xr.call(t,"callee")&&!Jr.call(t,"callee")},tt=Zr,Qr=Array.isArray,G=Qr;function kr(){return!1}var Et=typeof g=="object"&&g&&!g.nodeType&&g,Ct=Et&&typeof module=="object"&&module&&!module.nodeType&&module,tn=Ct&&Ct.exports===Et,Pt=tn?m.Buffer:void 0,en=Pt?Pt.isBuffer:void 0,rn=en||kr,et=rn,nn=9007199254740991,an=/^(?:0|[1-9]\d*)$/;function xt(t,e){var r=typeof t;return e=e==null?nn:e,!!e&&(r=="number"||r!="symbol"&&an.test(t))&&t>-1&&t%1==0&&t<e}var on=9007199254740991;function It(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=on}var un="[object Arguments]",sn="[object Array]",cn="[object Boolean]",fn="[object Date]",ln="[object Error]",gn="[object Function]",dn="[object Map]",hn="[object Number]",pn="[object Object]",bn="[object RegExp]",_n="[object Set]",mn="[object String]",yn="[object WeakMap]",vn="[object ArrayBuffer]",$n="[object DataView]",Tn="[object Float32Array]",wn="[object Float64Array]",jn="[object Int8Array]",An="[object Int16Array]",On="[object Int32Array]",Sn="[object Uint8Array]",En="[object Uint8ClampedArray]",Cn="[object Uint16Array]",Pn="[object Uint32Array]",f={};f[Tn]=f[wn]=f[jn]=f[An]=f[On]=f[Sn]=f[En]=f[Cn]=f[Pn]=!0,f[un]=f[sn]=f[vn]=f[cn]=f[$n]=f[fn]=f[ln]=f[gn]=f[dn]=f[hn]=f[pn]=f[bn]=f[_n]=f[mn]=f[yn]=!1;function xn(t){return T(t)&&It(t.length)&&!!f[A(t)]}function rt(t){return function(e){return t(e)}}var Mt=typeof g=="object"&&g&&!g.nodeType&&g,H=Mt&&typeof module=="object"&&module&&!module.nodeType&&module,In=H&&H.exports===Mt,nt=In&&bt.process,Mn=function(){try{var t=H&&H.require&&H.require("util").types;return t||nt&&nt.binding&&nt.binding("util")}catch{}}(),B=Mn,Ft=B&&B.isTypedArray,Fn=Ft?rt(Ft):xn,Bt=Fn,Bn=Object.prototype,Nn=Bn.hasOwnProperty;function Nt(t,e){var r=G(t),n=!r&&tt(t),i=!r&&!n&&et(t),a=!r&&!n&&!i&&Bt(t),o=r||n||i||a,u=o?Yr(t.length,String):[],s=u.length;for(var d in t)(e||Nn.call(t,d))&&!(o&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||xt(d,s)))&&u.push(d);return u}var Dn=Object.prototype;function it(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Dn;return t===r}function Dt(t,e){return function(r){return t(e(r))}}var Rn=Dt(Object.keys,Object),Un=Rn,Ln=Object.prototype,Gn=Ln.hasOwnProperty;function Hn(t){if(!it(t))return Un(t);var e=[];for(var r in Object(t))Gn.call(t,r)&&r!="constructor"&&e.push(r);return e}function q(t){return t!=null&&It(t.length)&&!Z(t)}function at(t){return q(t)?Nt(t):Hn(t)}function zn(t,e){return t&&L(e,at(e),t)}function Kn(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Vn=Object.prototype,Wn=Vn.hasOwnProperty;function Yn(t){if(!_(t))return Kn(t);var e=it(t),r=[];for(var n in t)n=="constructor"&&(e||!Wn.call(t,n))||r.push(n);return r}function z(t){return q(t)?Nt(t,!0):Yn(t)}function qn(t,e){return t&&L(e,z(e),t)}var Rt=typeof g=="object"&&g&&!g.nodeType&&g,Ut=Rt&&typeof module=="object"&&module&&!module.nodeType&&module,Xn=Ut&&Ut.exports===Rt,Lt=Xn?m.Buffer:void 0,Gt=Lt?Lt.allocUnsafe:void 0;function Ht(t,e){if(e)return t.slice();var r=t.length,n=Gt?Gt(r):new t.constructor(r);return t.copy(n),n}function zt(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function Jn(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}function Kt(){return[]}var Zn=Object.prototype,Qn=Zn.propertyIsEnumerable,Vt=Object.getOwnPropertySymbols,kn=Vt?function(t){return t==null?[]:(t=Object(t),Jn(Vt(t),function(e){return Qn.call(t,e)}))}:Kt,ot=kn;function ti(t,e){return L(t,ot(t),e)}function Wt(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var ei=Dt(Object.getPrototypeOf,Object),ut=ei,ri=Object.getOwnPropertySymbols,ni=ri?function(t){for(var e=[];t;)Wt(e,ot(t)),t=ut(t);return e}:Kt,Yt=ni;function ii(t,e){return L(t,Yt(t),e)}function qt(t,e,r){var n=e(t);return G(t)?n:Wt(n,r(t))}function ai(t){return qt(t,at,ot)}function oi(t){return qt(t,z,Yt)}var ui=S(m,"DataView"),st=ui,si=S(m,"Promise"),ct=si,ci=S(m,"Set"),ft=ci,fi=S(m,"WeakMap"),lt=fi,Xt="[object Map]",li="[object Object]",Jt="[object Promise]",Zt="[object Set]",Qt="[object WeakMap]",kt="[object DataView]",gi=O(st),di=O(R),hi=O(ct),pi=O(ft),bi=O(lt),P=A;(st&&P(new st(new ArrayBuffer(1)))!=kt||R&&P(new R)!=Xt||ct&&P(ct.resolve())!=Jt||ft&&P(new ft)!=Zt||lt&&P(new lt)!=Qt)&&(P=function(t){var e=A(t),r=e==li?t.constructor:void 0,n=r?O(r):"";if(n)switch(n){case gi:return kt;case di:return Xt;case hi:return Jt;case pi:return Zt;case bi:return Qt}return e});var gt=P,_i=Object.prototype,mi=_i.hasOwnProperty;function yi(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&mi.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var vi=m.Uint8Array,te=vi;function dt(t){var e=new t.constructor(t.byteLength);return new te(e).set(new te(t)),e}function $i(t,e){var r=e?dt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Ti=/\w*$/;function wi(t){var e=new t.constructor(t.source,Ti.exec(t));return e.lastIndex=t.lastIndex,e}var ee=M?M.prototype:void 0,re=ee?ee.valueOf:void 0;function ji(t){return re?Object(re.call(t)):{}}function ne(t,e){var r=e?dt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Ai="[object Boolean]",Oi="[object Date]",Si="[object Map]",Ei="[object Number]",Ci="[object RegExp]",Pi="[object Set]",xi="[object String]",Ii="[object Symbol]",Mi="[object ArrayBuffer]",Fi="[object DataView]",Bi="[object Float32Array]",Ni="[object Float64Array]",Di="[object Int8Array]",Ri="[object Int16Array]",Ui="[object Int32Array]",Li="[object Uint8Array]",Gi="[object Uint8ClampedArray]",Hi="[object Uint16Array]",zi="[object Uint32Array]";function Ki(t,e,r){var n=t.constructor;switch(e){case Mi:return dt(t);case Ai:case Oi:return new n(+t);case Fi:return $i(t,r);case Bi:case Ni:case Di:case Ri:case Ui:case Li:case Gi:case Hi:case zi:return ne(t,r);case Si:return new n;case Ei:case xi:return new n(t);case Ci:return wi(t);case Pi:return new n;case Ii:return ji(t)}}var ie=Object.create,Vi=function(){function t(){}return function(e){if(!_(e))return{};if(ie)return ie(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Wi=Vi;function ae(t){return typeof t.constructor=="function"&&!it(t)?Wi(ut(t)):{}}var Yi="[object Map]";function qi(t){return T(t)&&gt(t)==Yi}var oe=B&&B.isMap,Xi=oe?rt(oe):qi,Ji=Xi,Zi="[object Set]";function Qi(t){return T(t)&&gt(t)==Zi}var ue=B&&B.isSet,ki=ue?rt(ue):Qi,ta=ki,ea=1,ra=2,na=4,se="[object Arguments]",ia="[object Array]",aa="[object Boolean]",oa="[object Date]",ua="[object Error]",ce="[object Function]",sa="[object GeneratorFunction]",ca="[object Map]",fa="[object Number]",fe="[object Object]",la="[object RegExp]",ga="[object Set]",da="[object String]",ha="[object Symbol]",pa="[object WeakMap]",ba="[object ArrayBuffer]",_a="[object DataView]",ma="[object Float32Array]",ya="[object Float64Array]",va="[object Int8Array]",$a="[object Int16Array]",Ta="[object Int32Array]",wa="[object Uint8Array]",ja="[object Uint8ClampedArray]",Aa="[object Uint16Array]",Oa="[object Uint32Array]",c={};c[se]=c[ia]=c[ba]=c[_a]=c[aa]=c[oa]=c[ma]=c[ya]=c[va]=c[$a]=c[Ta]=c[ca]=c[fa]=c[fe]=c[la]=c[ga]=c[da]=c[ha]=c[wa]=c[ja]=c[Aa]=c[Oa]=!0,c[ua]=c[ce]=c[pa]=!1;function X(t,e,r,n,i,a){var o,u=e&ea,s=e&ra,d=e&na;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!_(t))return t;var l=G(t);if(l){if(o=yi(t),!u)return zt(t,o)}else{var h=gt(t),w=h==ce||h==sa;if(et(t))return Ht(t,u);if(h==fe||h==se||w&&!i){if(o=s||w?{}:ae(t),!u)return s?ii(t,qn(o,t)):ti(t,zn(o,t))}else{if(!c[h])return i?t:{};o=Ki(t,h,u)}}a||(a=new C);var j=a.get(t);if(j)return j;a.set(t,o),ta(t)?t.forEach(function(b){o.add(X(b,e,r,b,t,a))}):Ji(t)&&t.forEach(function(b,I){o.set(I,X(b,e,r,I,t,a))});var x=d?s?oi:ai:s?z:at,J=l?void 0:x(t);return zr(J||t,function(b,I){J&&(I=b,b=t[I]),At(o,I,X(b,e,r,I,t,a))}),o}var Sa=1,Ea=4;function le(t){return X(t,Sa|Ea)}function ht(t,e,r){(r!==void 0&&!K(t[e],r)||r===void 0&&!(e in t))&&k(t,e,r)}function Ca(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),u=o.length;u--;){var s=o[t?u:++i];if(r(a[s],s,a)===!1)break}return e}}var Pa=Ca(),xa=Pa;function Ia(t){return T(t)&&q(t)}var Ma="[object Object]",Fa=Function.prototype,Ba=Object.prototype,ge=Fa.toString,Na=Ba.hasOwnProperty,Da=ge.call(Object);function Ra(t){if(!T(t)||A(t)!=Ma)return!1;var e=ut(t);if(e===null)return!0;var r=Na.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&ge.call(r)==Da}function pt(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Ua(t){return L(t,z(t))}function La(t,e,r,n,i,a,o){var u=pt(t,r),s=pt(e,r),d=o.get(s);if(d){ht(t,r,d);return}var l=a?a(u,s,r+"",t,e,o):void 0,h=l===void 0;if(h){var w=G(s),j=!w&&et(s),x=!w&&!j&&Bt(s);l=s,w||j||x?G(u)?l=u:Ia(u)?l=zt(u):j?(h=!1,l=Ht(s,!0)):x?(h=!1,l=ne(s,!0)):l=[]:Ra(s)||tt(s)?(l=u,tt(u)?l=Ua(u):(!_(u)||Z(u))&&(l=ae(s))):h=!1}h&&(o.set(s,l),i(l,s,n,a,o),o.delete(s)),ht(t,r,l)}function de(t,e,r,n,i){t!==e&&xa(e,function(a,o){if(i||(i=new C),_(a))La(t,e,o,r,de,n,i);else{var u=n?n(pt(t,o),a,o+"",t,e,i):void 0;u===void 0&&(u=a),ht(t,o,u)}},z)}function he(t){return t}function Ga(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var pe=Math.max;function Ha(t,e,r){return e=pe(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=pe(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=n[i];return u[e]=r(o),Ga(t,this,u)}}function za(t){return function(){return t}}var Ka=Y?function(t,e){return Y(t,"toString",{configurable:!0,enumerable:!1,value:za(e),writable:!0})}:he,Va=Ka,Wa=800,Ya=16,qa=Date.now;function Xa(t){var e=0,r=0;return function(){var n=qa(),i=Ya-(n-r);if(r=n,i>0){if(++e>=Wa)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ja=Xa(Va),Za=Ja;function Qa(t,e){return Za(Ha(t,e,he),t+"")}function ka(t,e,r){if(!_(r))return!1;var n=typeof e;return(n=="number"?q(r)&&xt(e,r.length):n=="string"&&e in r)?K(r[e],t):!1}function to(t){return Qa(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,o&&ka(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var u=r[n];u&&t(e,u,n,a)}return e})}var eo=to(function(t,e,r){de(t,e,r)}),ro=eo;class no{constructor(e){v(this,"onlyPickMax",!1);v(this,"measure_dict");var r;this.onlyPickMax=(r=e==null?void 0:e.onlyPickMax)!=null?r:this.onlyPickMax,this.measure_dict=e!=null&&e.measureDict?ro(le(wt),(e==null?void 0:e.measureDict)||{}):le(wt)}getStdResult(e){var i;let r={};const n=Object.keys(this.measure_dict);for(const a of n){const o=this.measure_dict[a],u=[];for(const l of Object.keys(o))l!=="std"&&u.push(l);const s=new RegExp(`(?<${a}>(\\d+))\u591A?(${u.join("|")})`,"g"),d=e.matchAll(s);for(const l of d){const h=this.measure_dict[a].std,w=l[l.length-1],j=o[h],x=(i=l.groups)==null?void 0:i[a],J=o[w];if(h===void 0){console.warn(`DICT.${a} missed 'std' prop`);continue}if(x!==void 0){const b=j*Number(x)*J;r[a]?(r[a].push(b),r[a]=[...new Set(r[a])]):r[a]=[b],this.onlyPickMax&&(r[a]=[Math.max(...r[a])])}}}return r}}class io{constructor(e){v(this,"numberExtract");v(this,"numberRule");this.numberExtract=new Ye(e),this.numberRule=new no(e)}parse(e){const r=this.numberExtract.detect(e);return this.numberRule.getStdResult(r)}}g.CreateParser=io,Object.defineProperties(g,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
